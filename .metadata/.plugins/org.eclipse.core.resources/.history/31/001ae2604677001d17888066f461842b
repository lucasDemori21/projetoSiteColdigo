package br.com.coldigogeladeiras.jdbcinterface;

import java.util.List;
import java.util.ArrayList;

import br.com.coldigogeladeiras.modelo.Marca;

public interface MarcaDAO {

	public List<Marca> buscar(){

	// Criação da instrução SQL para busca de todas as marcas
	String comando = "SELECT * FROM marcas";

	// Criação de uma lista para armazenar cada marca encontrada
	List<Marca> listMarcas = new ArrayList<Marca>();

	// Criação do objeto marca com valor null (ou seja, sem instanciá-lo)
	Marca marca = null;
	
	// Abertura do try-catch
	try {
		
	// Uso da conexão do banco para prepará-lo para uma instrução SQL
		Statement stmt = conexao.createStatement();
		
	// Execusão da instrução criada previamente
	// e armazenamento do resultado do objeto rs
		ResultSet rs = stmt.executeQuery(comando);
		
	// Enquanto houver uma próxima linha no resultado
	while (rs.next()) {
	
		// Criação da instância da classe Marca
		marca= new Marca();
	
	// Recebimento dos 2 dados retornados do BD para cada linha encontrada
		int id = rs.getInt("id");
		String nome =rs.getString("nome");
	
	// Setando no objeto marca os valores encontrados
	marca.setId(id);
	marca.setNome(marca);

	}
		
	// Caso alguma Exception seja gerada no try, recebe-a no objeto "ex"
	} catch (Exception ex) {
		// Exibe a exceção na console
		ex.printStackTrace();
	}
	
	// Retorna para quem chamou o método a lista criada
	return listMarcas;
	
	}
}
